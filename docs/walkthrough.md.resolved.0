# Walkthrough: Sistema de Autenticaci√≥n Backend (Fases 1-4)

Hemos completado el desarrollo del Backend siguiendo una arquitectura **Enterprise Grade**. Aqu√≠ est√° el resumen de lo logrado:

## üè∞ Arquitectura Implementada

### 1. Capa de Dominio (DDD)
- **BaseEntity**: Entidad base con GUIDs y auditor√≠a.
- **Entidades Ricas**: [User](file:///home/mylisuthy/Escritorio/starterLogin/LogiBackend/src/StarterLogin.Domain/Entities/User.cs#19-20) y [Role](file:///home/mylisuthy/Escritorio/starterLogin/LogiBackend/src/StarterLogin.Domain/Entities/Role.cs#13-18) con l√≥gica encapsulada.
- **Value Objects**: [Email](file:///home/mylisuthy/Escritorio/starterLogin/LogiBackend/src/StarterLogin.Domain/ValueObjects/Email.cs#10-14) y [PasswordHash](file:///home/mylisuthy/Escritorio/starterLogin/LogiBackend/src/StarterLogin.Domain/ValueObjects/PasswordHash.cs#9-13) con validaciones de dominio.

### 2. Capa de Infraestructura
- **EF Core Persistence**: Mapeo profesional mediante Fluent API.
- **Security**: Implementaci√≥n de `BCrypt` para contrase√±as y `JWT` para tokens.
- **Unit of Work & Repositories**: Desacoplamiento total de la base de datos.
- **Seeding**: Creaci√≥n autom√°tica de base de datos, roles y usuario admin.

### 3. Capa de Aplicaci√≥n (CQRS)
- **MediatR**: Implementaci√≥n de [LoginUserQuery](file:///home/mylisuthy/Escritorio/starterLogin/LogiBackend/src/StarterLogin.Application/Auth/Queries/Login/LoginUserQuery.cs#11-15) y [RegisterUserCommand](file:///home/mylisuthy/Escritorio/starterLogin/LogiBackend/src/StarterLogin.Application/Auth/Commands/Register/RegisterUserCommand.cs#12-17).
- **Desacoplamiento**: Los controladores no conocen la l√≥gica de negocio, solo env√≠an comandos.

### 4. Capa API
- **AuthController**: Endpoints de `login` y `register`.
- **Middleware**: Manejo global de excepciones devolviendo errores en formato RFC 7807 (Problem Details).
- **Swagger**: Configurado con el bot√≥n **Authorize** para probar los tokens JWT.

## üõ†Ô∏è C√≥mo verificar el Backend

1. **Compilaci√≥n**: Ejecuta `dotnet build` en la soluci√≥n.
2. **Base de Datos**: Al ejecutar el proyecto `StarterLogin.Api`, se crear√° autom√°ticamente la base de datos `StarterLoginDb` en LocalDB con el usuario `admin` (password: `Admin123!`).
3. **Swagger**: Navega a `https://localhost:{port}/swagger` para probar los endpoints.

---
¬°El backend est√° listo para ser consumido por el Frontend! üöÄ
